<!DOCTYPE html>
<html lang="es">
<head>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â  Â  <meta http-equiv="refresh" content="7200">
Â  <title>ProyeccionesExpertis_JV</title>
Â  <style>
Â  Â  body {
Â  Â  Â  margin: 0;
Â  Â  Â  background-color: rgb(66, 65, 65);
Â  Â  Â  font-family: Arial, sans-serif;
Â  Â  }

Â  Â  .carousel {
Â  Â  Â  position: relative;
Â  Â  Â  width: 100vw;
Â  Â  Â  height: 100vh;
Â  Â  Â  overflow: hidden;
Â  Â  }

Â  Â  .carousel img {
Â  Â  Â  display: none;
Â  Â  Â  width: 100%;
Â  Â  Â  height: 100%;
Â  Â  Â  object-fit: contain;
Â  Â  }

Â  Â  .carousel img.active {
Â  Â  Â  display: block;
Â  Â  }

Â  Â  .arrow {
Â  Â  Â  position: absolute;
Â  Â  Â  top: 50%;
Â  Â  Â  transform: translateY(-50%);
Â  Â  Â  font-size: 50px;
Â  Â  Â  color: white;
Â  Â  Â  background-color: rgba(0, 0, 0, 0.3);
Â  Â  Â  border: none;
Â  Â  Â  padding: 10px 20px;
Â  Â  Â  cursor: pointer;
Â  Â  Â  z-index: 1;
Â  Â  Â  user-select: none;
Â  Â  Â  border-radius: 50%;
Â  Â  }

Â  Â  .arrow:hover {
Â  Â  Â  background-color: rgba(0, 0, 0, 0.5);
Â  Â  }

Â  Â  .arrow-left {
Â  Â  Â  left: 10px;
Â  Â  }

Â  Â  .arrow-right {
Â  Â  Â  right: 10px;
Â  Â  }

Â  Â  /* Contador de tiempo - AHORA EN IZQUIERDA */
Â  Â  .timer-container {
Â  Â  Â  position: fixed;
Â  Â  Â  top: 15px;
Â  Â  Â  left: 15px;
Â  Â  Â  width: 80px;
Â  Â  Â  height: 80px;
Â  Â  Â  z-index: 10;
Â  Â  Â  display: flex;
Â  Â  Â  align-items: center;
Â  Â  Â  justify-content: center;
Â  Â  }

Â  Â  .timer-circle {
Â  Â  Â  width: 100%;
Â  Â  Â  height: 100%;
Â  Â  Â  position: relative;
Â  Â  }

Â  Â  .timer-background {
Â  Â  Â  fill: none;
Â  Â  Â  stroke: rgba(255, 255, 255, 0.2);
Â  Â  Â  stroke-width: 4;
Â  Â  }

Â  Â  .timer-progress {
Â  Â  Â  fill: none;
Â  Â  Â  stroke: #4CAF50;
Â  Â  Â  stroke-width: 4;
Â  Â  Â  stroke-linecap: round;
Â  Â  Â  transform: rotate(-90deg);
Â  Â  Â  transform-origin: 50% 50%;
Â  Â  Â  transition: stroke-dashoffset 1s linear, stroke 0.5s ease;
Â  Â  }

Â  Â  .timer-progress.expired {
Â  Â  Â  stroke: #ff4444;
Â  Â  Â  animation: pulse 2s infinite;
Â  Â  }

Â  Â  .timer-text {
Â  Â  Â  position: absolute;
Â  Â  Â  top: 50%;
Â  Â  Â  left: 50%;
Â  Â  Â  transform: translate(-50%, -50%);
Â  Â  Â  color: white;
Â  Â  Â  font-family: Arial, sans-serif;
Â  Â  Â  font-size: 20px;
Â  Â  Â  font-weight: bold;
Â  Â  Â  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
Â  Â  Â  transition: color 0.5s ease;
Â  Â  }

Â  Â  .timer-text.expired {
Â  Â  Â  color: #ff4444;
Â  Â  }

Â  Â  .timer-label {
Â  Â  Â  position: absolute;
Â  Â  Â  bottom: -20px;
Â  Â  Â  left: 50%;
Â  Â  Â  transform: translateX(-50%);
Â  Â  Â  color: white;
Â  Â  Â  font-size: 12px;
Â  Â  Â  white-space: nowrap;
Â  Â  Â  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
Â  Â  }

Â  Â  @keyframes pulse {
Â  Â  Â  0% { opacity: 1; }
Â  Â  Â  50% { opacity: 0.7; }
Â  Â  Â  100% { opacity: 1; }
Â  Â  }
Â  </style>
</head>
<body>

Â  <div class="carousel">
Â  Â  <img src="./images/imagen_01.jpg" class="active" alt="Imagen1" />
Â  Â  <img src="./images/imagen_02.jpg" alt="Imagen 2" />
Â  Â  <img src="./images/imagen_03.jpg" alt="Imagen 3" />
Â  Â  <img src="./images/imagen_04.jpg" alt="Imagen 4" />
Â  Â  <img src="./images/imagen_05.jpg" alt="Imagen 5" />
Â  Â  <img src="./images/imagen_06.jpg" alt="Imagen 6" />
Â  Â  <img src="./images/imagen_07.jpg" alt="Imagen 7" />
Â  Â  <img src="./images/imagen_08.jpg" alt="Imagen 8" />
Â  Â  <img src="./images/imagen_09.jpg" alt="Imagen 9" />
Â  Â  <img src="./images/imagen_10.jpg" alt="Imagen 10" />
Â  Â  <img src="./images/imagen_11.jpg" alt="Imagen 11" />
Â  Â  <img src="./images/imagen_12.jpg" alt="Imagen 12" />
Â  Â  <img src="./images/imagen_13.jpg" alt="Imagen 13" />
Â  Â  <img src="./images/imagen_14.jpg" alt="Imagen 14" />
Â  Â  <img src="./images/imagen_15.jpg" alt="Imagen 15" />
Â  Â  <img src="./images/imagen_16.jpg" alt="Imagen 16" />
Â  Â  <img src="./images/imagen_17.jpg" alt="Imagen 17" />
Â  Â  <img src="./images/imagen_18.jpg" alt="Imagen 18" />
Â  Â  <img src="./images/imagen_19.jpg" alt="Imagen 19" />
Â  Â  <img src="./images/imagen_20.jpg" alt="Imagen 20" />
Â  Â  <img src="./images/imagen_21.jpg" alt="Imagen 21" />
Â  Â  <img src="./images/imagen_22.jpg" alt="Imagen 22" />
Â  Â  <img src="./images/imagen_23.jpg" alt="Imagen 23" />
Â  Â  <img src="./images/imagen_24.jpg" alt="Imagen 24" />
Â  Â  <img src="./images/imagen_25.jpg" alt="Imagen 25" />
Â  Â  <img src="./images/imagen_26.jpg" alt="Imagen 26" />
Â  Â  <img src="./images/imagen_27.jpg" alt="Imagen 27" />
Â  Â  <img src="./images/imagen_28.jpg" alt="Imagen 28" />
Â  Â  <img src="./images/imagen_29.jpg" alt="Imagen 29" />
Â  Â  <img src="./images/imagen_30.jpg" alt="Imagen 30" />
Â  Â  <img src="./images/imagen_31.jpg" alt="Imagen 31" />
Â  Â  <img src="./images/imagen_32.jpg" alt="Imagen 32" />
Â  Â  <img src="./images/imagen_33.jpg" alt="Imagen 33" />

Â  Â  <button class="arrow arrow-left" id="prev">&#8592;</button>
Â  Â  <button class="arrow arrow-right" id="next">&#8594;</button>
Â  </div>

Â  Â  <div class="timer-container">
Â  Â  <div class="timer-circle">
Â  Â  Â  <svg width="80" height="80" viewBox="0 0 36 36">
Â  Â  Â  Â  <path class="timer-background"
Â  Â  Â  Â  Â  d="M18 2.0845
Â  Â  Â  Â  Â  Â  a 15.9155 15.9155 0 0 1 0 31.831
Â  Â  Â  Â  Â  Â  a 15.9155 15.9155 0 0 1 0 -31.831"
Â  Â  Â  Â  />
Â  Â  Â  Â  <path class="timer-progress"
Â  Â  Â  Â  Â  id="timer-progress"
Â  Â  Â  Â  Â  stroke-dasharray="100, 100"
Â  Â  Â  Â  Â  d="M18 2.0845
Â  Â  Â  Â  Â  Â  a 15.9155 15.9155 0 0 1 0 31.831
Â  Â  Â  Â  Â  Â  a 15.9155 15.9155 0 0 1 0 -31.831"
Â  Â  Â  Â  />
Â  Â  Â  </svg>
Â  Â  Â  <div class="timer-text" id="timer-text">320</div>
Â  Â  Â  <div class="timer-label">ActualizaciÃ³n</div>
Â  Â  </div>
Â  </div>

Â  <script>
Â  Â  // =========================================================================
Â  Â  // 1. IMPLEMENTACIÃ“N DE SCREEN WAKE LOCK API (MÃ‰TODO PRINCIPAL) ðŸ’¡
Â  Â  // =========================================================================
Â  Â  let wakeLock = null;

Â  Â  const requestWakeLock = async () => {
Â  Â  Â  if ('wakeLock' in navigator && wakeLock === null) {
Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  wakeLock = await navigator.wakeLock.request('screen');
Â  Â  Â  Â  Â  console.log('Bloqueo de pantalla (Wake Lock) activo. âœ…');
Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  wakeLock.addEventListener('release', () => {
Â  Â  Â  Â  Â  Â  console.log('Bloqueo de pantalla liberado por el sistema. Intentando re-adquirir.');
Â  Â  Â  Â  Â  Â  wakeLock = null;
Â  Â  Â  Â  Â  Â  // Esto es opcional, pero intenta re-adquirirlo si el sistema lo suelta
Â  Â  Â  Â  Â  Â  requestWakeLock(); 
Â  Â  Â  Â  Â  });

Â  Â  Â  Â  } catch (err) {
Â  Â  Â  Â  Â  console.error(`Error al solicitar Wake Lock: ${err.name}. ConfÃ­a en el meta refresh.`);
Â  Â  Â  Â  }
Â  Â  Â  }
Â  Â  };
Â  Â  
Â  Â  const releaseWakeLock = () => {
Â  Â  Â  if (wakeLock) {
Â  Â  Â  Â  wakeLock.release();
Â  Â  Â  Â  wakeLock = null;
Â  Â  Â  }
Â  Â  };

Â  Â  // Adquirir el bloqueo al cargar
Â  Â  requestWakeLock();

Â  Â  // Re-adquirir el bloqueo si la pÃ¡gina vuelve a ser visible
Â  Â  document.addEventListener('visibilitychange', () => {
Â  Â  Â  if (document.visibilityState === 'visible') {
Â  Â  Â  Â  requestWakeLock();
Â  Â  Â  } else {
Â  Â  Â  Â  releaseWakeLock();
Â  Â  Â  }
Â  Â  });
Â  Â  
Â  Â  // =========================================================================
Â  Â  // CÃ“DIGO DE CARRUSEL Y CONTADOR ORIGINAL
Â  Â  // =========================================================================

Â  Â  const images = document.querySelectorAll('.carousel img');
Â  Â  const prevBtn = document.getElementById('prev');
Â  Â  const nextBtn = document.getElementById('next');
Â  Â  const timerText = document.getElementById('timer-text');
Â  Â  const timerProgress = document.getElementById('timer-progress');
Â  Â  let current = 0;
Â  Â Â 
Â  Â  let initialCountdown = 320;
Â  Â  let countdown = initialCountdown;
Â  Â  let countdownActive = true;
Â  Â  
Â  Â  function showImage(index) {
Â  Â  Â  images.forEach((img, i) => {
Â  Â  Â  Â  img.classList.toggle('active', i === index);
Â  Â  Â  });
Â  Â  }

Â  Â  prevBtn.addEventListener('click', () => {
Â  Â  Â  current = (current - 1 + images.length) % images.length;
Â  Â  Â  showImage(current);
Â  Â  });

Â  Â  nextBtn.addEventListener('click', () => {
Â  Â  Â  current = (current + 1) % images.length;
Â  Â  Â  showImage(current);
Â  Â  });

Â  Â  // Cambio automÃ¡tico cada 10 segundos
Â  Â  setInterval(() => {
Â  Â  Â  current = (current + 1) % images.length;
Â  Â  Â  showImage(current);
Â  Â  }, 10000);

Â  Â  // Contador de actualizaciÃ³n
Â  Â  function updateCountdown() {
Â  Â  Â  if (countdownActive) {
Â  Â  Â  Â  countdown--;
Â  Â  Â  Â  timerText.textContent = countdown;
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Actualizar la barra de progreso
Â  Â  Â  Â  const progress = (countdown / initialCountdown) * 100;
Â  Â  Â  Â  timerProgress.style.strokeDashoffset = (100 - progress).toFixed(1);
Â  Â  Â  Â Â 
Â  Â  Â  Â  if (countdown <= 0) {
Â  Â  Â  Â  Â  countdownActive = false;
Â  Â  Â  Â  Â  timerText.textContent = "0";
Â  Â  Â  Â  Â  timerText.classList.add('expired');
Â  Â  Â  Â  Â  timerProgress.classList.add('expired');
Â  Â  Â  Â  }
Â  Â  Â  }
Â  Â  }

Â  Â  // Iniciar el contador
Â  Â  setInterval(updateCountdown, 1000);
Â  </script>
</body>
</html>